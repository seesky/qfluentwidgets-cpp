cmake_minimum_required(VERSION 3.14)

project(qfluentwidgets-cpp  LANGUAGES C CXX)

# 设置编译模式为Debug
set(CMAKE_BUILD_TYPE Debug)

# 或者设置编译模式为Release
#set(CMAKE_BUILD_TYPE Release)
set(CMAKE_AUTOMOC TRUE)
# GoogleTest requires at least C++14
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -g")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")

INCLUDE_DIRECTORIES(C://msys64//mingw64//include//glib-2.0)
INCLUDE_DIRECTORIES(C://msys64//mingw64//lib//glib-2.0//include)
INCLUDE_DIRECTORIES(C://msys64//mingw64//include//c++//13.1.0)
INCLUDE_DIRECTORIES(C://msys64//mingw64//include//c++//13.1.0//x86_64-w64-mingw32)


FIND_LIBRARY(COMM_LIB comm C://msys64//mingw64//lib NO_DEFAULT_PATH)


find_package(Qt5 COMPONENTS Core Gui Widgets Svg Xml REQUIRED)
add_executable(
  test
  main.cpp
  qfluentwidgets/common/animation.h
  qfluentwidgets/common/animation.cpp
  qfluentwidgets/common/config.h
  qfluentwidgets/common/config.cpp
  qfluentwidgets/common/icon.h
  qfluentwidgets/common/icon.cpp
  qfluentwidgets/common/font.h
  qfluentwidgets/common/font.cpp
  qfluentwidgets/common/style_sheet.h
  qfluentwidgets/common/style_sheet.cpp
  qfluentwidgets/common/smooth_scroll.h
  qfluentwidgets/common/smooth_scroll.cpp


  qfluentwidgets/components/widgets/button.h
  qfluentwidgets/components/widgets/button.cpp
  qfluentwidgets/components/widgets/scroll_bar.h
  qfluentwidgets/components/widgets/scroll_bar.cpp
  qfluentwidgets/components/widgets/menu.h
  qfluentwidgets/components/widgets/menu.cpp

  qfluentwidgets/qframelesswindow/utils/win32_utils.h
  qfluentwidgets/qframelesswindow/utils/win32_utils.cpp

  qfluentwidgets/qframelesswindow/titlebar/title_bar_buttons.h
  qfluentwidgets/qframelesswindow/titlebar/title_bar_buttons.cpp
  qfluentwidgets/qframelesswindow/titlebar/titlebar.h
  qfluentwidgets/qframelesswindow/titlebar/titlebar.cpp

  qfluentwidgets/qframelesswindow/windows/window_effect.h
  qfluentwidgets/qframelesswindow/windows/window_effect.cpp
  qfluentwidgets/qframelesswindow/windows/swcadef.h
  qfluentwidgets/qframelesswindow/windows/qframe_less_window.h
  qfluentwidgets/qframelesswindow/windows/qframe_less_window.cpp
)

target_link_options(test PRIVATE "-Wl,--whole-archive")


target_link_libraries(
  test
  Qt5::Widgets
  Qt5::Core
  Qt5::Gui
  Qt5::Svg
  Qt5::Xml
  jsoncpp
  Dwmapi
)